CREATE TABLE COMENTARIO (id_comentario BIGINT NOT NULL, cuerpo VARCHAR(200) NOT NULL, titulo VARCHAR(20) NOT NULL, usuario VARCHAR(20) NOT NULL, PRIMARY KEY (id_comentario))
CREATE TABLE FOTO (id_foto BIGINT NOT NULL, camino VARCHAR(40) NOT NULL, nombre VARCHAR(20) NOT NULL, id_usuario VARCHAR(20) NOT NULL, PRIMARY KEY (id_foto))
CREATE TABLE EVENT (id_evento INTEGER NOT NULL, ACEPTADO SMALLINT DEFAULT 0, contacto_evento VARCHAR(20) NOT NULL, descripcion VARCHAR(60) NOT NULL, fecha_fin DATE, fecha_inicio DATE NOT NULL, hora_inicio TIME NOT NULL, localizacion VARCHAR(40) NOT NULL, tipo_evento INTEGER NOT NULL, titulo VARCHAR(60) NOT NULL, VALORACION INTEGER, usuario VARCHAR(20), PRIMARY KEY (id_evento))
CREATE TABLE USUARIO (correoE VARCHAR(20) NOT NULL, apellidos VARCHAR(20) NOT NULL, nombre VARCHAR(100) NOT NULL, password VARCHAR(20) NOT NULL, rol VARCHAR(100) NOT NULL, telefono INTEGER, PRIMARY KEY (correoE))
CREATE TABLE EVENT_COMENTARIO (Event_id_evento INTEGER NOT NULL, comentarios_id_comentario BIGINT NOT NULL, PRIMARY KEY (Event_id_evento, comentarios_id_comentario))
CREATE TABLE EVENT_FOTO (Event_id_evento INTEGER NOT NULL, fotos_id_foto BIGINT NOT NULL, PRIMARY KEY (Event_id_evento, fotos_id_foto))
ALTER TABLE COMENTARIO ADD CONSTRAINT COMENTARIO_usuario FOREIGN KEY (usuario) REFERENCES USUARIO (correoE)
ALTER TABLE FOTO ADD CONSTRAINT FK_FOTO_id_usuario FOREIGN KEY (id_usuario) REFERENCES USUARIO (correoE)
ALTER TABLE EVENT ADD CONSTRAINT FK_EVENT_usuario FOREIGN KEY (usuario) REFERENCES USUARIO (correoE)
ALTER TABLE EVENT_COMENTARIO ADD CONSTRAINT VNTCMNcmntrsdcmntr FOREIGN KEY (comentarios_id_comentario) REFERENCES COMENTARIO (id_comentario)
ALTER TABLE EVENT_COMENTARIO ADD CONSTRAINT VNTCMNTRIOvntdvnto FOREIGN KEY (Event_id_evento) REFERENCES EVENT (id_evento)
ALTER TABLE EVENT_FOTO ADD CONSTRAINT VNTFOTOvntidevento FOREIGN KEY (Event_id_evento) REFERENCES EVENT (id_evento)
ALTER TABLE EVENT_FOTO ADD CONSTRAINT VENTFOTOftosidfoto FOREIGN KEY (fotos_id_foto) REFERENCES FOTO (id_foto)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(15), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
