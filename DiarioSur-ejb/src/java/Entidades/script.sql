CREATE TABLE COMENTARIO (id_comentario BIGINT NOT NULL, cuerpo VARCHAR(200) NOT NULL, titulo VARCHAR(20) NOT NULL, usuario BIGINT NOT NULL, PRIMARY KEY (id_comentario))
CREATE TABLE FOTO (id_foto BIGINT NOT NULL, camino VARCHAR(40) NOT NULL, nombre VARCHAR(20) NOT NULL, id_usuario BIGINT NOT NULL, PRIMARY KEY (id_foto))
CREATE TABLE VALORACION (valor INTEGER, id_evento INTEGER NOT NULL, id_usuario INTEGER NOT NULL, id_valoracion INTEGER NOT NULL, valEvento VARCHAR(60), valUsuario BIGINT, PRIMARY KEY (id_evento, id_usuario, id_valoracion))
CREATE TABLE EVENT (id_evento INTEGER NOT NULL, comentario VARCHAR(60), contacto_evento VARCHAR(20) NOT NULL, descripcion VARCHAR(60) NOT NULL, fecha_fin DATE, fecha_inicio DATE NOT NULL, hora_inicio TIME NOT NULL, image VARCHAR(255), localizacion VARCHAR(40) NOT NULL, tipo_evento INTEGER NOT NULL, titulo VARCHAR(60) NOT NULL, valoracion INTEGER, usuario BIGINT, PRIMARY KEY (id_evento))
CREATE TABLE USUARIO (id_usuario BIGINT NOT NULL, apellidos VARCHAR(20) NOT NULL, correoE VARCHAR(20) NOT NULL, nombre VARCHAR(10) NOT NULL, password VARCHAR(20) NOT NULL, rol VARCHAR(10) NOT NULL, telefono INTEGER, PRIMARY KEY (id_usuario))
CREATE TABLE EVENT_COMENTARIO (Event_id_evento INTEGER NOT NULL, comentarios_id_comentario BIGINT NOT NULL, PRIMARY KEY (Event_id_evento, comentarios_id_comentario))
CREATE TABLE EVENT_FOTO (Event_id_evento INTEGER NOT NULL, fotos_id_foto BIGINT NOT NULL, PRIMARY KEY (Event_id_evento, fotos_id_foto))
ALTER TABLE COMENTARIO ADD CONSTRAINT COMENTARIO_usuario FOREIGN KEY (usuario) REFERENCES USUARIO (id_usuario)
ALTER TABLE FOTO ADD CONSTRAINT FK_FOTO_id_usuario FOREIGN KEY (id_usuario) REFERENCES USUARIO (id_usuario)
ALTER TABLE VALORACION ADD CONSTRAINT VLORACIONvlUsuario FOREIGN KEY (valUsuario) REFERENCES USUARIO (id_usuario)
ALTER TABLE VALORACION ADD CONSTRAINT VLORACIONvalEvento FOREIGN KEY (valEvento) REFERENCES EVENT (descripcion)
ALTER TABLE EVENT ADD CONSTRAINT FK_EVENT_usuario FOREIGN KEY (usuario) REFERENCES USUARIO (id_usuario)
ALTER TABLE EVENT_COMENTARIO ADD CONSTRAINT VNTCMNcmntrsdcmntr FOREIGN KEY (comentarios_id_comentario) REFERENCES COMENTARIO (id_comentario)
ALTER TABLE EVENT_COMENTARIO ADD CONSTRAINT VNTCMNTRIOvntdvnto FOREIGN KEY (Event_id_evento) REFERENCES EVENT (id_evento)
ALTER TABLE EVENT_FOTO ADD CONSTRAINT VNTFOTOvntidevento FOREIGN KEY (Event_id_evento) REFERENCES EVENT (id_evento)
ALTER TABLE EVENT_FOTO ADD CONSTRAINT VENTFOTOftosidfoto FOREIGN KEY (fotos_id_foto) REFERENCES FOTO (id_foto)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(15), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
