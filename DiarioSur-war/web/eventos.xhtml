<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:mp="http://primefaces.org/ui/material" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <view contentType="text/html">
        
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Diario Sur</title>
            </f:facet>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css"></link>
            <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
            <script type="text/javascript" src="js/materialize.min.js"></script> 

        </h:head>

        <h:body>
  
            <nav class="nav-extended">
                <div class="nav-wrapper">
                    <a href="#" class="brand-logo">Agenda Cultural</a>
                    <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
                    <ul id="nav-mobile" class="right hide-on-med-and-down">
                        <li><h:link value="Home" outcome="index.xhtml"/></li>
                        <li><h:link value="Contacto" outcome="contacto.xhtml"/></li>
                        <li><h:link value="Registro" outcome="registro.xhtml"/></li>
                        <li><h:link value="Login" outcome="login.xhtml"/></li>
                    </ul>
                    <ul class="side-nav" id="mobile-demo">
                        <li><h:link value="Home" outcome="index.xhtml"/></li>
                        <li><h:link value="Contacto" outcome="contacto.xhtml"/></li>
                        <li><h:link value="Registro" outcome="registro.xhtml"/></li>
                        <li><h:link value="Login" outcome="login.xhtml"/></li>
                    </ul>
                </div>
                <div class="nav-content">
                    <ul class="tabs tabs-transparent">
                        <li class="tab"><a href="#todos">Todos</a></li>
                        <li class="tab"><a href="#deportes">Deportes</a></li>
                        <li class="tab"><a href="#cultura">Cultura</a></li>
                        <li class="tab"><a href="#social">Social</a></li>
                        <li class="tab"><a href="#tecnologia">Tecnología</a></li>
                        <li class="tab right"><a href="#crearEvento">Crear Evento</a></li>

                    </ul>
                </div>
            </nav>
            
            <div id="todos" class="col s12">
                <ul class="collection with-header">
                    <li class="collection-header"><h4>Todos los Eventos</h4></li>
                    <!--<c:set var="tipo" value="musica" />
                    <c:set var="t" value="tipo" />-->
                    <!--<h:form>
                    <p:commandButton type="submit" class="btn btn-primary" value="Acceder" onclick="#{gestE.todosEventos()}"/>                        
                    </h:form>-->
                    <ui:repeat var="event" value="#{gestE.todosEventos()}">
                        <li class="collection-item">
                            <h:outputText escape="true" value="#{event.getTitulo()}"/>
                            <h:link value="Detalles del evento" outcome="eventoInfo.xhtml?id=#{event.getId()}" />
                            <!-- Mirar otras formas de pasar parámentos entre páginas-->
                        </li>
                    </ui:repeat>
                    <li class="collection-item">Alvin</li>
                    <li class="collection-item">Alvin</li>
                    <li class="collection-item">Alvin</li>
                    <li class="collection-item">Alvin</li>
                </ul>
            </div>
            <div id="deportes" class="col s12">
                <h3>Eventos Deportivos</h3>
            </div>
            <div id="cultura" class="col s12">
                <ul class="collection with-header">
                    <li class="collection-header"><h4>Eventos culturales</h4></li>
                    <!--<c:set var="tipo" value="musica" />
                    <c:set var="t" value="tipo" />-->
                    
                    <ui:repeat var="event" value="#{gestE.eventosCulturales()}">
                        <li class="collection-item">
                        <f:param name="titulo" value="#{event.getTitulo()}"/>
                        </li>
                    </ui:repeat>
                    <li class="collection-item">Alvin</li>
                    <li class="collection-item">Alvin</li>
                    <li class="collection-item">Alvin</li>
                    <li class="collection-item">Alvin</li>
                </ul>
            </div>
            <div id="social" class="col s12">
                <h3>Eventos Sociales</h3>
            </div>
            <div id="tecnologia" class="col s12">
                <h3>Eventos Tecnológicos</h3>
            </div>
            <div id="crearEvento" class="col s12">
                <h3>Crear Evento</h3>
                <div class ="container">
                <div class="row">
                    <div class="col-sm-4 align-self-center">

                        <h:form id="gestE" class="container center-align">
                            <div class="input-field row s2">
                                <p:inputText class="validate" id="titulo" value="#{gestE.titulo}" required="false"/>
                                <label for="titulo">Titulo*</label>
                            </div>
                            <div class="input-field row s2">
                                <p:inputText class="validate" id="contenido" value="#{gestE.contenido}" required="false"/>
                                <label for="contenio">Contenido</label>
                            </div>
                            <div class="input-field row s2">
                                <p:inputText class="validate" id="localizacion" value="#{gestE.localizacion}" required="true"/>
                                <label for="localizacion">Localización*</label>
                            </div>  
                            <div class="input-field row s2">
                                <p:password class="validate" id="fecha" value="#{gestE.fecha}" required="true"/>
                                <label for="fecha">Fecha *</label>
                            </div>
                            <div class="input-field row s2">
                                <p:password class="validate" id="horaini" value="#{gestE.horaini}" required="true"/>
                                <label for="horaini">Hora de inicio *</label>
                            </div>

                            <div class="input-field row s2">
                                <p:inputText class="validate" id="phone" value="#{gestE.telefono}" required="true"/>
                                <label for="phone">Tlf de Contacto*</label>
                            </div>

                            <div class="input-field row s2">
                                <label for="tipo">Tipo de Evento*</label>
                                 <p:inputText class="validate" id="tipo" value="#{gestE.tipo}" required="true"/>
                             

                            </div>
              


                            <div class="input-field row s2">
                                <h:form enctype="multipart/form-data">
                                    <p:growl id="messages" showDetail="true" />
                                    <div class="row">    
                                        <p:fileUpload value="#{gestE.file}" mode="simple"/>
 
                                    </div> 
                                    
                                    
                                    <div class="row">    
                                        <p:commandButton class="btn btn-primary align-self-center" value="Crear" onclick="#{gestE.nuevoEvento()}" />
                                    </div>  
                                </h:form>
                                <label for="foto">Insertar Foto</label>
                            </div>

                                                      
                        </h:form>
                    </div>
                </div>
            </div>
            </div>

                        
        </h:body>
        
    </view>
    
</html>